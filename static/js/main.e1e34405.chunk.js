(this["webpackJsonpmanish-task"]=this["webpackJsonpmanish-task"]||[]).push([[0],{24:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n(0),c=n.n(i),a=n(15),r=n.n(a),u=(n(24),n(16)),s=n(2),l=n(14),p=n(18);function f(e){var t=1e3;return e>t&&(e=t),Math.floor(Math.random()*t)%e===0}var d=function(e){var t="post",n=[];return f(2)&&n.push("pre"+e),f(2)&&n.push(e),f(2)&&n.push(e+t),f(2)&&n.push("pre"+e+t),new Promise((function(e,t){var o=200*Math.random();setTimeout((function(){f(10)?t():e(n)}),o)}))},h=n(8),v=n.n(h),j=function(){var e=Object(i.useRef)(),t=Object(i.useRef)(),n=Object(i.useState)({inputValue:"",options:[],activeIndex:0,searchedWord:"",showOptions:!1,allWords:[]}),c=Object(p.a)(n,2),a=c[0],r=c[1],u=function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),e)}))};Object(i.useEffect)((function(){var e=setTimeout((function(){if(a.inputValue===t.current.value)if(""!==a.inputValue){if(" "===a.inputValue.slice(-1)&&t.current.selectionStart===a.inputValue.length)return void u({options:[],activeIndex:0});var e=a.inputValue.split(" ").filter((function(e){return""!==e})),n=e[e.length-1];if(a.allWords.length){var o=e.filter((function(e){return!1===a.allWords.includes(e)}));o.length&&!0===a.showOptions&&(n=o.shift())}u({allWords:e}),u({searchedWord:n}),d(n).then((function(e){u({options:e,activeIndex:0,showOptions:!0})})).catch(console.error)}else u({options:[],activeIndex:0,allWords:[]})}),500);return function(){clearTimeout(e)}}),[a.inputValue,t]);var s=Object(i.useCallback)((function(t){e.current&&!e.current.contains(t.target)&&u({showOptions:!1})}),[]);Object(i.useEffect)((function(){return document.addEventListener("click",s,!0),function(){document.removeEventListener("click",s,!0)}}),[s]);var f=function(e){return e.replace(new RegExp(a.searchedWord,"gi"),(function(e){return'<span class="'.concat(v.a.highlight,'">').concat(e,"</span>")}))},h=function(e){if(void 0===e)u({inputValue:""!==a.inputValue&&" "!==a.inputValue.slice(-1)?a.inputValue.concat(" "):a.inputValue});else{var n=a.inputValue;if(""!==a.inputValue){var o=a.inputValue.split(" ").map((function(t){return t===a.searchedWord?t.replace(new RegExp(a.searchedWord,"g"),e):t}));n="".concat(o.join(" ").trim()," "),u({allWords:o})}u({inputValue:n,activeIndex:0,options:[]})}t&&t.current&&t.current.focus()};return Object(o.jsxs)("div",{ref:e,className:v.a.searchContainer,children:[Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{className:"form-control ".concat(v.a.inputSearch),type:"text",spellCheck:"false",ref:t,value:a.inputValue,onChange:function(e){return u({inputValue:e.target.value})},onKeyDown:function(e){var t=a.activeIndex,n=a.options;if(13===e.keyCode)h(n[t]);else if(38===e.keyCode){if(e.preventDefault(),0===t)return;u({activeIndex:t-1})}else if(40===e.keyCode){if(e.preventDefault(),t===n.length-1)return;u({activeIndex:t+1})}}})}),a.showOptions&&0!==a.options.length&&Object(o.jsx)("div",{className:v.a.optionsContainer,children:a.options.map((function(e,t){return Object(o.jsx)("div",{className:t===a.activeIndex?v.a.activeOption:v.a.option,onClick:function(){return h(e)},dangerouslySetInnerHTML:{__html:f(e)}},e)}))})]})},m=function(){return Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(o.jsx)(j,{})})})})},O=function(){return Object(o.jsxs)(u.a,{basename:"/react-autocomplete",children:[Object(o.jsx)(s.b,{path:"/",component:m}),Object(o.jsx)(s.a,{from:"*",to:"/"})]})},b=function(){return Object(o.jsx)(O,{})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),c(e),a(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(b,{})}),document.getElementById("root")),x()},8:function(e,t,n){e.exports={searchContainer:"AutoComplete_searchContainer__ZEwL5",inputSearch:"AutoComplete_inputSearch__2OyF-",optionsContainer:"AutoComplete_optionsContainer__1b1Bo",option:"AutoComplete_option__11uOQ",activeOption:"AutoComplete_activeOption__3PvE3",highlight:"AutoComplete_highlight__3VNEI"}}},[[33,1,2]]]);
//# sourceMappingURL=main.e1e34405.chunk.js.map