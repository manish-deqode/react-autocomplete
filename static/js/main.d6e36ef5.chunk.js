(this["webpackJsonpmanish-task"]=this["webpackJsonpmanish-task"]||[]).push([[0],{24:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(0),c=n.n(o),a=n(15),u=n.n(a),r=(n(24),n(16)),s=n(2),l=n(14),p=n(18);function f(e){var t=1e3;return e>t&&(e=t),Math.floor(Math.random()*t)%e===0}var h=function(e){var t="post",n=[];return f(2)&&n.push("pre"+e),f(2)&&n.push(e),f(2)&&n.push(e+t),f(2)&&n.push("pre"+e+t),new Promise((function(e,t){var i=200*Math.random();setTimeout((function(){f(10)?t():e(n)}),i)}))},d=n(8),v=n.n(d),j=function(){var e=Object(o.useRef)(),t=Object(o.useRef)(),n=Object(o.useState)({inputValue:"",options:[],activeIndex:0,searchedWord:"",showOptions:!1}),c=Object(p.a)(n,2),a=c[0],u=c[1],r=function(e){u((function(t){return Object(l.a)(Object(l.a)({},t),e)}))};Object(o.useEffect)((function(){var e=setTimeout((function(){if(a.inputValue===t.current.value)if(""!==a.inputValue){if(" "===a.inputValue.slice(-1))return void r({options:[],activeIndex:0});var e=a.inputValue.split(" ").filter((function(e){return""!==e})).pop();r({searchedWord:e}),h(e).then((function(e){r({options:e,activeIndex:0,showOptions:!0})})).catch(console.error)}else r({options:[],activeIndex:0})}),500);return function(){clearTimeout(e)}}),[a.inputValue,t]);var s=Object(o.useCallback)((function(t){e.current&&!e.current.contains(t.target)&&r({showOptions:!1})}),[]);Object(o.useEffect)((function(){return document.addEventListener("click",s,!0),function(){document.removeEventListener("click",s,!0)}}),[s]);var f=function(e){return e.replace(new RegExp(a.searchedWord,"gi"),(function(e){return'<span class="'.concat(v.a.highlight,'">').concat(e,"</span>")}))},d=function(e){if(void 0===e)r({inputValue:""!==a.inputValue&&" "!==a.inputValue.slice(-1)?a.inputValue.concat(" "):a.inputValue});else{var n=e+" ",i=a.inputValue;if(""!==a.inputValue){var o=a.inputValue.split(" ").slice(0,-1);o.push(n),i=o.join(" ")}r({inputValue:i,activeIndex:0,options:[]})}t&&t.current&&t.current.focus()};return Object(i.jsxs)("div",{ref:e,className:v.a.searchContainer,children:[Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",{className:"form-control ".concat(v.a.inputSearch),type:"text",spellCheck:"false",ref:t,value:a.inputValue,onChange:function(e){return r({inputValue:e.target.value})},onKeyDown:function(e){var t=a.activeIndex,n=a.options;if(13===e.keyCode)d(n[t]);else if(38===e.keyCode){if(e.preventDefault(),0===t)return;r({activeIndex:t-1})}else if(40===e.keyCode){if(e.preventDefault(),t===n.length-1)return;r({activeIndex:t+1})}}})}),a.showOptions&&0!==a.options.length&&Object(i.jsx)("div",{className:v.a.optionsContainer,children:a.options.map((function(e,t){return Object(i.jsx)("div",{className:t===a.activeIndex?v.a.activeOption:v.a.option,onClick:function(){return d(e)},dangerouslySetInnerHTML:{__html:f(e)}},e)}))})]})},m=function(){return Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(i.jsx)(j,{})})})})},O=function(){return Object(i.jsxs)(r.a,{basename:"/react-autocomplete",children:[Object(i.jsx)(s.b,{path:"/",component:m}),Object(i.jsx)(s.a,{from:"*",to:"/"})]})},b=function(){return Object(i.jsx)(O,{})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),c(e),a(e)}))};u.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root")),x()},8:function(e,t,n){e.exports={searchContainer:"AutoComplete_searchContainer__ZEwL5",inputSearch:"AutoComplete_inputSearch__2OyF-",optionsContainer:"AutoComplete_optionsContainer__1b1Bo",option:"AutoComplete_option__11uOQ",activeOption:"AutoComplete_activeOption__3PvE3",highlight:"AutoComplete_highlight__3VNEI"}}},[[33,1,2]]]);
//# sourceMappingURL=main.d6e36ef5.chunk.js.map