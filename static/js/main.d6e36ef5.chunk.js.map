{"version":3,"sources":["Api/index.js","Components/AutoComplete/index.jsx","Pages/Dashboard/index.jsx","Routes/index.jsx","App.js","reportWebVitals.js","index.js","Components/AutoComplete/index.module.css"],"names":["getRandomBool","n","maxRandomCoeff","Math","floor","random","getSuggestions","text","post","results","push","Promise","resolve","reject","randomTimeout","setTimeout","AutoComplete","wrapperRef","useRef","inputRef","useState","inputValue","options","activeIndex","searchedWord","showOptions","pageState","setPageState","handlePageState","newStates","prevStates","useEffect","timer","current","value","slice","lastWordFromInput","split","filter","word","pop","then","suggestions","catch","console","error","clearTimeout","handleClickOutside","useCallback","event","contains","target","document","addEventListener","removeEventListener","highlightOption","option","replace","RegExp","match","styles","highlight","onSelectOption","inputOption","undefined","concat","updatedValue","words","join","focus","ref","className","searchContainer","inputSearch","type","spellCheck","onChange","onKeyDown","keyCode","preventDefault","length","optionsContainer","map","index","activeOption","onClick","dangerouslySetInnerHTML","__html","Dashboard","Routes","basename","process","path","component","from","to","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d6e36ef5.chunk.js","sourcesContent":["const FAILURE_COEFF = 10;\r\nconst MAX_SERVER_LATENCY = 200;\r\n\r\nfunction getRandomBool(n) {\r\n  const maxRandomCoeff = 1000;\r\n  if (n > maxRandomCoeff) n = maxRandomCoeff;\r\n  return Math.floor(Math.random() * maxRandomCoeff) % n === 0;\r\n}\r\n\r\nfunction getSuggestions(text) {\r\n  const pre = \"pre\";\r\n  const post = \"post\";\r\n  const results = [];\r\n  if (getRandomBool(2)) {\r\n    results.push(pre + text);\r\n  }\r\n  if (getRandomBool(2)) {\r\n    results.push(text);\r\n  }\r\n  if (getRandomBool(2)) {\r\n    results.push(text + post);\r\n  }\r\n  if (getRandomBool(2)) {\r\n    results.push(pre + text + post);\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    const randomTimeout = Math.random() * MAX_SERVER_LATENCY;\r\n    setTimeout(() => {\r\n      if (getRandomBool(FAILURE_COEFF)) {\r\n        reject();\r\n      } else {\r\n        resolve(results);\r\n      }\r\n    }, randomTimeout);\r\n  });\r\n}\r\n\r\nexport default getSuggestions;","import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport getSuggestions from \"../../Api/index\";\r\nimport styles from \"./index.module.css\";\r\n\r\nconst AutoComplete = () => {\r\n    const wrapperRef = useRef();\r\n    const inputRef = useRef();\r\n    const [pageState, setPageState] = useState({\r\n        inputValue: \"\",\r\n        options: [],\r\n        activeIndex: 0,\r\n        searchedWord: \"\",\r\n        showOptions: false,\r\n    });\r\n\r\n    const handlePageState = (newStates) => {\r\n        setPageState((prevStates) => {\r\n        return {\r\n            ...prevStates,\r\n            ...newStates\r\n        };\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        // Add timeout in API call. When user give short pause in typing then API will call\r\n        const timer = setTimeout(() => {\r\n            if (pageState.inputValue === inputRef.current.value) {\r\n                // Do not show suggestions if input value is empty\r\n                if (pageState.inputValue !== \"\") {\r\n                    const lastCharacter = pageState.inputValue.slice(-1);\r\n                    // Do not show suggestions if last character is space\r\n                    if (lastCharacter === \" \") {\r\n                        handlePageState({ options: [], activeIndex: 0 });\r\n                        return;\r\n                    }\r\n        \r\n                    // Find suggestions based on last word\r\n                    const inputs = pageState.inputValue.split(\" \").filter((word) => word !== \"\");\r\n                    const lastWordFromInput = inputs.pop();\r\n                    \r\n                    handlePageState({ searchedWord: lastWordFromInput });\r\n                    // Get All suggestions according to lastWordFromInput\r\n                    getSuggestions(lastWordFromInput).then((suggestions) => {\r\n                    handlePageState({ options: suggestions, activeIndex: 0, showOptions: true });\r\n                    }).catch(console.error);\r\n                } else {\r\n                    handlePageState({ options: [], activeIndex: 0 });\r\n                }\r\n            }\r\n        }, 500);\r\n        return () => {\r\n          clearTimeout(timer);\r\n        };\r\n    }, [pageState.inputValue, inputRef]);\r\n\r\n    // Close options when click outside of div\r\n    const handleClickOutside = useCallback((event) => {\r\n        if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\r\n        handlePageState({ showOptions: false });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // We are only listning to an Event. We are not manupulating in DOM\r\n        document.addEventListener('click', handleClickOutside, true);\r\n        return () => {\r\n            document.removeEventListener('click', handleClickOutside, true);\r\n        };\r\n    }, [handleClickOutside]);\r\n\r\n    // Highlights the matched characters in suggestions\r\n    const highlightOption = (option) => {\r\n        return option.replace(\r\n        new RegExp(pageState.searchedWord, \"gi\"),\r\n        (match) => `<span class=\"${styles.highlight}\">${match}</span>`\r\n        );\r\n    };\r\n\r\n    // Selecting suggestions through key press\r\n    const handleKeyPress = (event) => {\r\n        const { activeIndex, options } = pageState;\r\n        if (event.keyCode === 13) { //Enter key\r\n            onSelectOption(options[activeIndex]);\r\n        } else if (event.keyCode === 38) { //Up Arrow key\r\n            event.preventDefault();\r\n            if (activeIndex === 0) {\r\n                return;\r\n            }\r\n            handlePageState({ activeIndex: activeIndex - 1 });\r\n        } else if (event.keyCode === 40) { //Down Arrow key\r\n            event.preventDefault();\r\n            if (activeIndex === options.length - 1) {\r\n                return;\r\n            }\r\n            handlePageState({ activeIndex: activeIndex + 1 });\r\n        }\r\n    };\r\n\r\n    // On select suggestion\r\n    const onSelectOption = (inputOption) => {\r\n        // If API does not return any result and value is selected, setting the typed value with space\r\n        if (inputOption === undefined) {\r\n          handlePageState({ inputValue: (pageState.inputValue !== \"\" && pageState.inputValue.slice(-1) !== \" \") ? pageState.inputValue.concat(\" \") : pageState.inputValue });\r\n        } else {\r\n          // Append suggestion and update input value\r\n          const option = inputOption + \" \";\r\n    \r\n          let updatedValue = pageState.inputValue;\r\n          if (pageState.inputValue !== \"\") {\r\n            const words = pageState.inputValue.split(\" \").slice(0, -1);\r\n            words.push(option);\r\n            updatedValue = words.join(\" \");\r\n          }\r\n          handlePageState({ inputValue: updatedValue, activeIndex: 0, options: [] });\r\n        }\r\n    \r\n        // Set focus to input on select\r\n        if (inputRef && inputRef.current) {\r\n          inputRef.current.focus();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div ref={wrapperRef} className={styles.searchContainer}>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    className={`form-control ${styles.inputSearch}`}\r\n                    type=\"text\"\r\n                    spellCheck=\"false\"\r\n                    ref={inputRef}\r\n                    value={pageState.inputValue}\r\n                    onChange={event => handlePageState({ inputValue: event.target.value })}\r\n                    onKeyDown={handleKeyPress}\r\n                />\r\n            </div>\r\n\r\n            {pageState.showOptions && pageState.options.length !== 0 && (\r\n                <div className={styles.optionsContainer}>\r\n                {pageState.options.map((option, index) => (\r\n                    <div\r\n                    key={option}\r\n                    className={\r\n                        index === pageState.activeIndex ? styles.activeOption : styles.option\r\n                    }\r\n                    onClick={() => onSelectOption(option)}\r\n                    dangerouslySetInnerHTML={{ __html: highlightOption(option) }}\r\n                    />\r\n                ))}\r\n                </div>\r\n            )}        \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AutoComplete;\r\n","import React from \"react\";\r\nimport AutoComplete from \"../../Components/AutoComplete\";\r\n\r\nconst Dashboard = () => (\r\n  <div className=\"row\">\r\n    <div className=\"col-md-12\">\r\n      <div className=\"col-md-4 offset-md-4\">\r\n        <AutoComplete />\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\nimport { Route, BrowserRouter as Router, Redirect } from \"react-router-dom\";\r\nimport Dashboard from \"../Pages/Dashboard\";\r\n\r\nconst Routes = () => (\r\n  <Router basename={process.env.PUBLIC_URL || ''}>\r\n    <Route path=\"/\" component={Dashboard} />\r\n    <Redirect from=\"*\" to=\"/\" />\r\n  </Router>\r\n);\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\n\r\nconst App = () => {\r\n return (\r\n  <Routes />\r\n );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"AutoComplete_searchContainer__ZEwL5\",\"inputSearch\":\"AutoComplete_inputSearch__2OyF-\",\"optionsContainer\":\"AutoComplete_optionsContainer__1b1Bo\",\"option\":\"AutoComplete_option__11uOQ\",\"activeOption\":\"AutoComplete_activeOption__3PvE3\",\"highlight\":\"AutoComplete_highlight__3VNEI\"};"],"sourceRoot":""}